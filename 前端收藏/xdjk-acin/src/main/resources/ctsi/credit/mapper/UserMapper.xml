<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ctsi.credit.mapper.UserMapper">

	<!-- 查询用户 -->
	<select id="findUserById" resultType="com.ctsi.credit.entity.User" parameterType="long">
		select * from user where id = #{id}
	</select>
	<!-- 查询用户 -->
	<select id="findUserByName" resultType="com.ctsi.credit.entity.User"
		parameterType="String">
		select * from user where username = #{name}
	</select>
	<!-- 查询项目 -->
	<select id="getProject" resultType="com.ctsi.credit.entity.Project"
		parameterType="String">
		select * from project where code = #{code}
	</select>
	<!-- 查询项目 -->
	<select id="getCityName" resultType="String"
		parameterType="String">
		select name from city where code = #{code}
	</select>
	<!--更新用户 -->
	<update id="updateUserById" parameterType="com.ctsi.credit.entity.User">
		update user
		<trim prefix="set" suffixOverrides=",">
			<if test="username!=null">username=#{username},</if>
			<if test="password!=null">password=#{password},</if>
			<if test="path!=null">path=#{path},</if>			
		</trim>
		WHERE id=#{id}
	</update>

	<!--根据超级管理员用户查询所有用户-->
<!--	<select id="findAllUserPath" resultType="com.ctsi.credit.entity.User">-->
		<!--select * from user;-->
	<!--</select>-->
	<!-- 根据截取的字符串获取开户行名称 -->
	<!--<select id="findNameOfBank" resultType="com.ctsi.credit.entity.DataUser" parameterType="String">-->
		<!--select * from datatable where id = #{str}-->
	<!--</select>-->
	<!-- 根据截取的字符串获取开户行下项目名称 -->
	<!--<select id="findNameOfProject" resultType="com.ctsi.credit.entity.DataUser" parameterType="String">-->
		<!--select * from datatable where id = #{str}-->
	<!--</select>-->
</mapper>